---
layout: pr
date: 2022-02-02
title: "Add usage examples"
link: https://github.com/bitcoin-core/secp256k1/pull/748
authors: [elichai]
components: [math and cryptography]
host: jonasnick
status: upcoming
commit:
---

## Notes

- [libsecp256k1](https://github.com/bitcoin-core/secp256k1/) is the library that Bitcoin Core uses for low-level cryptographic operations such as signing and verification.

- This PR adds usage examples for several common use cases: ECDSA signatures, Schnorr signatures, and (elliptic curve) Diffie-Hellman key exchange.

- The examples are intended to clarify the API by supplementing the documentation in the [various header files](https://github.com/bitcoin-core/secp256k1/tree/master/include).

## Questions

1. Did you review the PR? [Concept ACK, approach ACK, tested ACK, or NACK](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#peer-review)?

2. What's a `secp256k1_context`? What role do they play in the API?

3. What does it mean for a context to be "initialized for signing" or "initialized for verification"?

4. What does "randomizing" a `secp256k1_context` do? How does that protect against side-channel attacks?

5. What does it mean for a public key to be "X-only"? Why does the Schnorr example (unlike ECDSA) use "X-only" keys?

6. How does `secp256k1_schnorrsig_sign` protect against the possibility of nonce reuse?

7. What messages are actually exchanged (across the network) during an execution of the ECDH protocol?

8. Bonus question: how could an eavesdropping attacker detect whether two parties are engaging in an ECDH protocol?

<!-- TODO: After meeting, uncomment and add meeting log between the irc tags
## Meeting Log

{% irc %}
{% endirc %}
-->
